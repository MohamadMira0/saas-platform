<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks - SWB Dashboard</title>
    <link rel="stylesheet" href="../css/tasks.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>
<body>
    <!-- Dashboard Navbar -->
    <nav class="dashboard-navbar">
        <div class="navbar-container">
            <div class="navbar-left">
                <a href="dashboard.html" class="navbar-brand">SWB Dashboard</a>
            </div>
            <div class="navbar-right">
                <span class="navbar-welcome">Welcome, User</span>
                <button class="logout-button" onclick="handleLogout()">Logout</button>
            </div>
        </div>
    </nav>

    
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <div class="sidebar-content">
                
                <nav class="sidebar-nav">
                    <a href="dashboard.html" class="sidebar-link">
                        <span class="sidebar-icon">‚ù§</span>
                        <span class="sidebar-label">Dashboard</span>
                    </a>
                    <a href="tasks.html" class="sidebar-link active">
                        <span class="sidebar-icon">‚úÖ</span>
                        <span class="sidebar-label">Tasks</span>
                    </a>
                    <a href="projects.html" class="sidebar-link">
                        <span class="sidebar-icon">üìÅ</span>
                        <span class="sidebar-label">Projects</span>
                    </a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <div class="tasks-header">
                <h1 class="dashboard-title">Tasks Management</h1>
                <button class="add-task-button" onclick="openTaskModal()">+ Add New Task</button>
            </div>

            <!-- Tasks Grid -->
            <div class="tasks-grid">
                <div class="task-card">
                    <div class="task-header">
                        <h3 class="task-title">Complete project proposal</h3>
                        <span class="task-status task-status-completed">completed</span>
                    </div>
                    <p class="task-description">Write and submit the project proposal</p>
                    <div class="task-actions">
                        <button class="task-button task-button-edit" onclick="editTask(1)">Edit</button>
                        <button class="task-button task-button-delete" onclick="deleteTask(1)">Delete</button>
                    </div>
                </div>

                <div class="task-card">
                    <div class="task-header">
                        <h3 class="task-title">Review code changes</h3>
                        <span class="task-status task-status-in-progress">in-progress</span>
                    </div>
                    <p class="task-description">Review pull requests from team</p>
                    <div class="task-actions">
                        <button class="task-button task-button-edit" onclick="editTask(2)">Edit</button>
                        <button class="task-button task-button-delete" onclick="deleteTask(2)">Delete</button>
                    </div>
                </div>

                <div class="task-card">
                    <div class="task-header">
                        <h3 class="task-title">Update documentation</h3>
                        <span class="task-status task-status-pending">pending</span>
                    </div>
                    <p class="task-description">Update API documentation</p>
                    <div class="task-actions">
                        <button class="task-button task-button-edit" onclick="editTask(3)">Edit</button>
                        <button class="task-button task-button-delete" onclick="deleteTask(3)">Delete</button>
                    </div>
                </div>
            </div>
        </main>
    </div>



    <h1 class="text-3xl font-bold underline text-red-500">
        Hello world!
      </h1>
    <!-- Modal for Add/Edit Task -->
    <div class="modal-overlay" id="taskModal" onclick="closeTaskModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h2 class="modal-title">Create New Task</h2>
            <form class="task-form" onsubmit="handleTaskSubmit(event)">
                <div class="form-group">
                    <label for="taskTitle">Title</label>
                    <input type="text" id="taskTitle" name="taskTitle" placeholder="Task title" required>
                </div>
                <div class="form-group">
                    <label for="taskDescription">Description</label>
                    <textarea id="taskDescription" name="taskDescription" rows="4" placeholder="Task description" required></textarea>
                </div>
                <div class="form-group">
                    <label for="taskStatus">Status</label>
                    <select id="taskStatus" name="taskStatus">
                        <option value="pending">Pending</option>
                        <option value="in-progress">In Progress</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="form-button form-button-primary">Create</button>
                    <button type="button" class="form-button form-button-secondary" onclick="closeTaskModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        function handleLogout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'login.html';
            }
        }

        function openTaskModal() {
            const modal = document.getElementById('taskModal');
            modal.style.display = 'flex';
            modal.classList.add('active');
        }

        function closeTaskModal(event) {
            if (!event || event.target.classList.contains('modal-overlay')) {
                const modal = document.getElementById('taskModal');
                modal.style.display = 'none';
                modal.classList.remove('active');
                document.querySelector('.task-form').reset();
            }
        }

        function handleTaskSubmit(event) {
            event.preventDefault();
            // Handle form submission here
            closeTaskModal();
        }

        function editTask(id) {
            // Handle edit task
            openTaskModal();
        }

        function deleteTask(id) {
            if (confirm('Are you sure you want to delete this task?')) {
                // Handle delete task
            }
        }

        // Highlight active sidebar link
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop() || 'tasks.html';
            const sidebarLinks = document.querySelectorAll('.sidebar-link');
            
            sidebarLinks.forEach(link => {
                const href = link.getAttribute('href');
                if (href === currentPage || (currentPage === 'tasks.html' && href === 'tasks.html')) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
